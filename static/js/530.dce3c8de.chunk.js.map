{"version":3,"file":"static/js/530.dce3c8de.chunk.js","mappings":"yLAgDA,QA1CA,WACE,MAAMA,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OACVC,EAAqBC,IAA0BC,EAAAA,EAAAA,UAAS,IA8B/D,OA5BAC,EAAAA,EAAAA,YAAU,KACaC,WACnB,MACMC,EADS,IAAIC,gBAAgBV,EAASW,QACvBC,IAAI,SAEzB,GAAKH,EAKL,IACE,MAAMI,QAAiBC,EAAAA,EAAMF,IAAI,2BAGjC,GAFAP,EAAuBQ,EAASE,KAAKC,SAEP,oBAA1BH,EAASE,KAAKC,QAA+B,CAC/C,MAAMC,QAAcH,EAAAA,EAAMF,IAAI,2BAC9BV,GAASgB,EAAAA,EAAAA,IAAM,CAAED,QAAOR,WACxBX,EAAS,IACX,CACF,CAAE,MAAOqB,GACPC,QAAQD,MAAM,+NAA4CA,GAC1Dd,EAAuB,qBACzB,MAhBEA,EAAuB,4BAgBzB,EAGFgB,EAAc,GACb,CAACnB,EAAUF,EAASW,OAAQb,KAG7BwB,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,wBACJC,EAAAA,EAAAA,KAAA,KAAAD,SAAInB,GAAuB,0LAGjC,C","sources":["components/ConfirmedEmail/ConfirmedEmail.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { login } from '../../redux/auth/authOperations';\n\nfunction EmailConfirmation() {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const [confirmationMessage, setConfirmationMessage] = useState('');\n\n  useEffect(() => {\n    const confirmEmail = async () => {\n      const params = new URLSearchParams(location.search);\n      const token = params.get('token');\n\n      if (!token) {\n        setConfirmationMessage('Invalid confirmation link');\n        return;\n      }\n\n      try {\n        const response = await axios.get(`/api/auth/refresh_token`);\n        setConfirmationMessage(response.data.message);\n\n        if (response.data.message === 'Email confirmed') {\n          const email = await axios.get(`/api/auth/refresh_token`);\n          dispatch(login({ email, token }));\n          navigate('/');\n        }\n      } catch (error) {\n        console.error('Помилка підтвердження електронної пошти:', error);\n        setConfirmationMessage('Verification error');\n      }\n    };\n\n    confirmEmail();\n  }, [dispatch, location.search, navigate]);\n\n  return (\n    <div>\n      <h1>Email Confirmation</h1>\n      <p>{confirmationMessage || 'Підтвердження електронної пошти...'}</p>\n    </div>\n  );\n}\n\nexport default EmailConfirmation;"],"names":["navigate","useNavigate","location","useLocation","dispatch","useDispatch","confirmationMessage","setConfirmationMessage","useState","useEffect","async","token","URLSearchParams","search","get","response","axios","data","message","email","login","error","console","confirmEmail","_jsxs","children","_jsx"],"sourceRoot":""}