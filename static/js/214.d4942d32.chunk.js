"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[214],{8214:(n,e,t)=>{t.r(e),t.d(e,{default:()=>B});var i=t(5043),r=t(3216),a=t(3003),o=t(1129);const l=n=>n.auth.user;var s,d,p,c,x,h,g,u,m,f,b,y,A,j,v,w,k,C,R,z,F=t(3401),S=t(7528),I=t(789),N=t(5475);I.A.header(s||(s=(0,S.A)(["\n  justify-content: space-between;\n  padding: 7px 40px 10px 40px;\n  display: flex;\n  gap: 30px;\n  background: #fff;\n  top: 0;\n  position: sticky;\n  z-index: 3;\n  @media screen and (max-width: 780px) {\n    padding: 7px 20px 10px 20px;\n    align-items: center;\n  }\n"])));const O=I.A.button(d||(d=(0,S.A)(["\n  background: red;\n  color: white;\n  border-radius: 15px;\n  font-size: 15px;\n  padding: 4px 20px;\n  border: none;\n  @media screen and (max-width: 780px) {\n    padding: 7px 20px 10px 20px;\n    align-items: center;\n  }\n"]))),D=I.A.img(p||(p=(0,S.A)(["\n  border-radius: 50%;\n  /* width: 60%; */\n  padding: 5px;\n  border: 3px solid #9AC43C;\n  width: 90px;\n  height: 90px;\n"]))),J=(I.A.div(c||(c=(0,S.A)(["\n  display: flex;\n  gap: 10px;\n  flex-direction: column;\n  align-items: flex-end;\n"]))),I.A.div(x||(x=(0,S.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  justify-content: space-between;\n"]))),I.A.li(h||(h=(0,S.A)(["\n  line-height: 1.6em;\n  color: #111;\n"]))),(0,I.A)(N.k2)(g||(g=(0,S.A)(["\n  padding-bottom: 10px;\n  font-size: 14px;\n  font-weight: 700;\n  color: #9ac43c;\n  border-bottom: 1px dotted #e6e6e6;\n  @media (max-width: 780px) {\n    border-bottom: none;\n    margin: 0;\n    padding-bottom: 0;\n  }\n"]))),(0,I.A)(N.k2)(u||(u=(0,S.A)([""]))),I.A.div(m||(m=(0,S.A)(["\n  display: flex;\n  justify-content: center;\n  gap: 45px;\n"])))),L=I.A.div(f||(f=(0,S.A)(["\n  display: flex;\n  justify-content: center;\n  gap: 15px;\n"]))),W=I.A.button(b||(b=(0,S.A)(["\n    font-style: normal;\n    font-weight: var(--fontWeight500);\n    font-size: 16px;\n    line-height: 21px;\n    text-align: center;\n    letter-spacing: -0.02em;\n    width: 100%;\n    height: 29px;\n    margin-top: 10px;\n    background: rgb(154, 196, 60);\n    border-radius: 15px;\n    @media screen and (max-width: 768px) {\n        width: 287px;\n    }\n"]))),U=I.A.label(y||(y=(0,S.A)(["\n    font-style: normal;\n    font-weight: var(--fontWeight500);\n    font-size: 16px;\n    line-height: 21px;\n    text-align: center;\n    letter-spacing: -0.02em;\n    width: 100%;\n    height: 29px;\n    margin-top: 10px;\n    background: rgb(154, 196, 60);\n    color: black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 15px;\n    margin-bottom: 15px;\n    cursor: pointer;\n    @media screen and (max-width: 768px) {\n        width: 287px;\n    }\n"]))),_=I.A.div(A||(A=(0,S.A)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 60vh;\n  justify-content: center;\n"]))),E=(I.A.label(j||(j=(0,S.A)(["\n  display: inline-block;\n  margin-top: 10px;\n  width: 24px;\n  color: black;\n  height: 24px;\n  border-radius: 15px;\n  background: rgb(154, 196, 60);\n  font-size: 18px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n"]))),I.A.input(v||(v=(0,S.A)(["\n  display: none;\n"])))),K=I.A.div(w||(w=(0,S.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 15%;\n"]))),T=I.A.div(k||(k=(0,S.A)(["\n  display: flex;\n  flex-direction: column;\n"]))),Z=((0,I.A)(N.N_)(C||(C=(0,S.A)(["\n  text-transform: uppercase;\n  padding: 10px 15px 10px 15px;\n  display: block;\n  &:hover {\n    cursor: pointer;\n    background: #9ac43c;\n  }\n"]))),I.A.div(R||(R=(0,S.A)(["\n  display: flex;\n  gap: 15px;\n  margin-top: 30px;\n  color: #9AC43C;\n  align-items: center;\n"]))),(0,I.A)(N.N_)(z||(z=(0,S.A)(["\n  left: 160px;\n  top: 40px;\n  font-style: normal;\n  font-weight: var(--fontWeight500);\n  font-size: 18px;\n  line-height: 27px;\n  letter-spacing: -0.02em;\n  color: #111;\n"]))));var q=t(579);const B=()=>{const n=(0,a.d4)((n=>n.auth.isLoggedIn)),e=(0,a.d4)(l);console.log(e);const t=(0,a.wA)(),s=(0,r.Zp)(),[d,p]=(0,i.useState)(null),[c,x]=(0,i.useState)(!1),[h,g]=(0,i.useState)((()=>JSON.parse(localStorage.getItem("userData"))||{username:e.username,phone:e.phone,birthday:e.birthday,avatar:e.avatar}));(0,i.useEffect)((()=>{localStorage.setItem("userData",JSON.stringify(h))}),[h]);const u=n=>{const{name:e,value:t}=n.target;g((n=>({...n,[e]:t})))};return(0,q.jsxs)("div",{children:[n&&(0,q.jsxs)(_,{children:[(0,q.jsxs)(J,{children:[(0,q.jsxs)(K,{children:[(0,q.jsx)(D,{src:h.avatar,alt:"Avatar",name:"avatar"}),(0,q.jsx)(E,{type:"file",id:"file",onChange:n=>{p(n.target.files[0])}}),(0,q.jsx)(U,{htmlFor:"file",children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u0444\u043e\u0442\u043e"}),(0,q.jsx)("button",{onClick:async()=>{if(d)try{await t((0,o.OJ)({userId:e.id,avatarFile:d})).unwrap(),g((n=>({...n,avatar:URL.createObjectURL(d)}))),F.oR.success("\u0412\u0430\u0448 \u0430\u0432\u0430\u0442\u0430\u0440 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e")}catch(n){F.oR.error("\u0412\u0438 \u043d\u0435 \u0432\u0438\u0431\u0440\u0430\u043b\u0438 \u0444\u0430\u0439\u043b \u0430\u0431\u043e \u0441\u0442\u0430\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430")}else F.oR.error("\u0412\u0438 \u043d\u0435 \u0432\u0438\u0431\u0440\u0430\u043b\u0438 \u0444\u0430\u0439\u043b \u0430\u0431\u043e \u0441\u0442\u0430\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430")},children:"\u041e\u043d\u043e\u0432\u0438\u0442\u0438 \u0430\u0432\u0430\u0442\u0430\u0440"})]}),(0,q.jsxs)(T,{children:[(0,q.jsx)("label",{htmlFor:"username",children:"\u0412\u0430\u0448\u0435 \u0456\u043c'\u044f"}),c?(0,q.jsx)("input",{type:"text",id:"username",name:"username",value:h.username,onChange:u}):(0,q.jsxs)("p",{children:[h.username," ",(0,q.jsx)(W,{onClick:()=>x(!0),children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"})]}),(0,q.jsx)("label",{htmlFor:"email",children:"\u0412\u0430\u0448\u0430 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u043f\u043e\u0448\u0442\u0430:"}),(0,q.jsx)("p",{children:e.email}),(0,q.jsx)("label",{htmlFor:"role",children:"\u0412\u0430\u0448\u0430 \u0440\u043e\u043b\u044c:"}),(0,q.jsx)("p",{children:e.role}),(0,q.jsx)("label",{htmlFor:"phone",children:"\u0412\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443:"}),c?(0,q.jsx)("input",{type:"tel",id:"phone",name:"phone",value:h.phone,onChange:u}):(0,q.jsxs)("p",{children:[h.phone," ",(0,q.jsx)(W,{onClick:()=>x(!0),children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"})]}),(0,q.jsx)("label",{htmlFor:"birthday",children:"\u0412\u0430\u0448\u0430 \u0434\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f:"}),c?(0,q.jsx)("input",{type:"date",id:"birthday",name:"birthday",value:h.birthday,onChange:u}):(0,q.jsxs)("p",{children:[h.birthday," ",(0,q.jsx)(W,{onClick:()=>x(!0),children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"})]}),c&&(0,q.jsx)(W,{type:"submit",onClick:async()=>{try{await t((0,o.TK)({userId:e.id,userData:h})).unwrap(),x(!1),F.oR.success("\u0412\u0430\u0448 \u043f\u0440\u043e\u0444\u0456\u043b\u044c \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e")}catch(n){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0456\u0434 \u0447\u0430\u0441 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0444\u0456\u043b\u044e:",n),F.oR.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0456\u0434 \u0447\u0430\u0441 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0444\u0456\u043b\u044e")}},children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})]}),(0,q.jsxs)(L,{children:[(0,q.jsx)(O,{onClick:async()=>{try{s("/"),F.oR.success("\u0412\u0438 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u0439\u0448\u043b\u0438 \u0437 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443")}catch(n){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0456\u0434 \u0447\u0430\u0441 \u0432\u0438\u0445\u043e\u0434\u0443 \u0437 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443:",n),F.oR.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0456\u0434 \u0447\u0430\u0441 \u0432\u0438\u0445\u043e\u0434\u0443 \u0437 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443")}},style:{marginRight:"15px"},children:"\u0412\u0438\u0439\u0442\u0438"}),(0,q.jsx)(Z,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"})]})]}),!n&&(0,q.jsx)("div",{children:(0,q.jsxs)("div",{children:["\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, ",(0,q.jsx)(Z,{to:"/auth/register",children:"\u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0439\u0442\u0435\u0441\u044f"})," \u0442\u0443\u0442"]})})]})}}}]);
//# sourceMappingURL=214.d4942d32.chunk.js.map