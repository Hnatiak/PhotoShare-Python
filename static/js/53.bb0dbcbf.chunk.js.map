{"version":3,"file":"static/js/53.bb0dbcbf.chunk.js","mappings":"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","sources":["components/MyProfile/MyProfile.styled.js","components/MyProfile/MyProfile.jsx"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Link, NavLink } from 'react-router-dom';\n\nexport const HeaderWrapper = styled.header`\n  justify-content: space-between;\n  padding: 7px 40px 10px 40px;\n  display: flex;\n  gap: 30px;\n  background: #fff;\n  top: 0;\n  position: sticky;\n  z-index: 3;\n  @media screen and (max-width: 780px) {\n    padding: 7px 20px 10px 20px;\n    align-items: center;\n  }\n`;\n\nexport const LogOut = styled.button`\n  background: red;\n  color: white;\n  border-radius: 15px;\n  font-size: 15px;\n  padding: 4px 20px;\n  border: none;\n  @media screen and (max-width: 780px) {\n    padding: 7px 20px 10px 20px;\n    align-items: center;\n  }\n`;\n\nexport const Img = styled.img`\n  border-radius: 50%;\n  width: 60%;\n  padding: 5px;\n  border: 3px solid #9AC43C;\n`;\n\nexport const Menu = styled.div`\n  display: flex;\n  gap: 10px;\n  flex-direction: column;\n  align-items: flex-end;\n`;\n\nexport const Question = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  justify-content: space-between;\n`;\n\nexport const MenuItem = styled.li`\n  line-height: 1.6em;\n  color: #111;\n`;\n\nexport const A = styled(NavLink)`\n  padding-bottom: 10px;\n  font-size: 14px;\n  font-weight: 700;\n  color: #9ac43c;\n  border-bottom: 1px dotted #e6e6e6;\n  @media (max-width: 780px) {\n    border-bottom: none;\n    margin: 0;\n    padding-bottom: 0;\n  }\n`;\n\nexport const Ab = styled(NavLink)``;\n\nexport const Div = styled.div`\n  display: flex;\n  justify-content: center;\n  gap: 45px;\n`;\n\nexport const LastDiv = styled.div`\n  display: flex;\n  justify-content: center;\n  gap: 15px;\n`;\n\nexport const EditBtn = styled.button`\n    font-style: normal;\n    font-weight: var(--fontWeight500);\n    font-size: 16px;\n    line-height: 21px;\n    text-align: center;\n    letter-spacing: -0.02em;\n    width: 100%;\n    height: 29px;\n    margin-top: 10px;\n    background: rgb(154, 196, 60);\n    border-radius: 15px;\n    @media screen and (max-width: 768px) {\n        width: 287px;\n    }\n`;\n\nexport const EditPhoto = styled.label`\n    font-style: normal;\n    font-weight: var(--fontWeight500);\n    font-size: 16px;\n    line-height: 21px;\n    text-align: center;\n    letter-spacing: -0.02em;\n    width: 100%;\n    height: 29px;\n    margin-top: 10px;\n    background: rgb(154, 196, 60);\n    color: black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 15px;\n    margin-bottom: 15px;\n    cursor: pointer;\n    @media screen and (max-width: 768px) {\n        width: 287px;\n    }\n`;\n\n\nexport const DivStyles = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 60vh;\n  justify-content: center;\n`;\n\n\n\n\n\n\nexport const FileInputWrapper = styled.label`\n  display: inline-block;\n  margin-top: 10px;\n  width: 24px;\n  color: black;\n  height: 24px;\n  border-radius: 15px;\n  background: rgb(154, 196, 60);\n  font-size: 18px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n`;\n\nexport const FileInput = styled.input`\n  display: none;\n`;\n\n\n\n\nexport const DivPhoto = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 15%;\n`;\n\nexport const DivEdit = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\n\nexport const AboutA = styled(Link)`\n  text-transform: uppercase;\n  padding: 10px 15px 10px 15px;\n  display: block;\n  &:hover {\n    cursor: pointer;\n    background: #9ac43c;\n  }\n`;\n\nexport const MenuDiv = styled.div`\n  display: flex;\n  gap: 15px;\n  margin-top: 30px;\n  color: #9AC43C;\n  align-items: center;\n`;\n\n\nexport const StyledLink = styled(Link)`\n  left: 160px;\n  top: 40px;\n  font-style: normal;\n  font-weight: var(--fontWeight500);\n  font-size: 18px;\n  line-height: 27px;\n  letter-spacing: -0.02em;\n  color: #111;\n`;","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateUser } from '../../redux/users/userOperations';\nimport { logout } from '../../redux/auth/authOperations';\nimport { toast } from 'react-toastify';\nimport { Img, StyledLink, LogOut, EditBtn, Div, DivPhoto, DivEdit, EditPhoto, FileInput, LastDiv, DivStyles } from './MyProfile.styled';\nimport { updateUserAvatar } from '../../redux/users/userOperations';\nimport { selectUser } from '../../redux/users/userSelectors';\n\nconst MyProfile = ({ stockAvatar, onClose }) => {\n  const isLoggedInUser = useSelector(state => state.auth.isLoggedIn);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  // eslint-disable-next-line\n  const [selectedFile, setSelectedFile] = useState(null);\n  // eslint-disable-next-line\n  const [imageUrl, setImageUrl] = useState('');  \n  // const user = useSelector(state => state.user.user);\n  const user = useSelector(selectUser);\n\n  // const user = useSelector(state => state.auth.user);\n\n\n  const [avatarFile, setAvatarFile] = useState(null);\n\n  const handleFileChange = (event) => {\n    setAvatarFile(event.target.files[0]);\n  };\n\n  const handleUpdateAvatar = async () => {\n    if (avatarFile) {\n      await dispatch(updateUserAvatar({ userId: user.id, avatarFile })).unwrap();\n      toast.success('Ваш профіль успішно оновлено');\n    } else {\n      toast.error('Ви не вибрали файл, або щось пішло не так');\n    }\n  };\n\n  const [editMode, setEditMode] = useState(false);\n  const [userData, setUserData] = useState({\n    username: user?.username || '',\n    phone: user?.phone || '',\n    birthday: user?.birthday || '',\n  });\n\n  useEffect(() => {\n    if (selectedFile) {\n      const reader = new FileReader();\n\n      reader.onload = event => {\n        setImageUrl(event.target.result);\n      };\n\n      reader.readAsDataURL(selectedFile);\n    }\n  }, [selectedFile]);\n\n  useEffect(() => {\n    setUserData({\n      username: user?.username || '',\n      phone: user?.phone || '',\n      birthday: user?.birthday || '',\n    });\n  }, [user]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setUserData(prevUserData => ({\n      ...prevUserData,\n      [name]: value,\n    }));\n  };\n\n  const handleUpdateUser = async () => {\n    try {\n      await dispatch(updateUser({ userId: user.id, userData })).unwrap()\n        .then(() => {\n          setUserData(userData);\n          setEditMode(false);\n          toast.success('Ваш профіль успішно оновлено');\n        });      \n    } catch (error) {\n      toast.error('Помилка під час оновлення профілю');\n      setUserData(prevUserData => ({\n        ...prevUserData,\n        username: user?.username || '',\n        phone: user?.phone || '',\n        birthday: user?.birthday || '',\n      }));\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await dispatch(logout());\n      navigate('/');\n      toast.success('Ви успішно розлогінились');\n    } catch (error) {\n      console.log('Сталася помилка під час виходу:', error);\n      toast.error('Під час розлогінення сталася помилка');\n    }\n  };\n\n  return (\n    <div>\n      {user && (\n        <div>\n          {isLoggedInUser && (\n            <DivStyles>\n              <Div>\n                <DivPhoto>\n                  <Img src={user.avatar} alt=\"\" />\n                  <FileInput type=\"file\" id=\"file\" onChange={handleFileChange} />\n                  <EditPhoto htmlFor=\"file\">Edit Photo</EditPhoto>\n                  <button onClick={handleUpdateAvatar}>Update Avatar</button>\n                </DivPhoto>\n                <DivEdit>\n                  <label htmlFor=\"username\">Ваше ім'я</label>\n                  {editMode ? (\n                    <input type=\"text\" id=\"username\" name=\"username\" value={userData.username} onChange={handleInputChange} />\n                  ) : (\n                    <p>{userData.username} <EditBtn onClick={() => setEditMode(true)}>Edit</EditBtn></p>\n                  )}\n\n                  <label htmlFor=\"email\">Ваша емейл:</label><p>{user.email}</p>\n                  <label htmlFor=\"role\">Ваша роль:</label><p>{user.role}</p>\n\n                  <label htmlFor=\"phone\">Ваш номер телефону:</label>\n                  {editMode ? (\n                    <input type=\"tel\" id=\"phone\" name=\"phone\" value={userData.phone} onChange={handleInputChange} />\n                  ) : (\n                    <p>{userData.phone} <EditBtn onClick={() => setEditMode(true)}>Edit</EditBtn></p>\n                  )}\n                  <label htmlFor=\"birthday\">Ваша дата дня народження:</label>\n                  {editMode ? (\n                    <input type=\"date\" id=\"birthday\" name=\"birthday\" value={userData.birthday} onChange={handleInputChange} />\n                  ) : (\n                    <p>{userData.birthday} <EditBtn onClick={() => setEditMode(true)}>Edit</EditBtn></p>\n                  )}\n                  {editMode && (\n                    <EditBtn type=\"submit\" onClick={handleUpdateUser}>Зберегти</EditBtn>\n                  )}\n                </DivEdit>\n              </Div>\n              <LastDiv>\n                <LogOut onClick={handleLogout} style={{ marginRight: '15px' }}>Вийти</LogOut>\n                <StyledLink to=\"/\">Головна</StyledLink>\n              </LastDiv>\n            </DivStyles>\n          )}\n          {!isLoggedInUser && (\n            <div>\n              <div>Please Register Here: <StyledLink to=\"/auth/register\">Register</StyledLink></div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MyProfile;"],"names":["styled","header","_templateObject","_taggedTemplateLiteral","LogOut","button","_templateObject2","Img","img","_templateObject3","Div","div","_templateObject4","_templateObject5","li","_templateObject6","NavLink","_templateObject7","_templateObject8","_templateObject9","LastDiv","_templateObject10","EditBtn","_templateObject11","EditPhoto","label","_templateObject12","DivStyles","_templateObject13","FileInput","_templateObject14","input","_templateObject15","DivPhoto","_templateObject16","DivEdit","_templateObject17","StyledLink","Link","_templateObject18","_templateObject19","_templateObject20","_ref","stockAvatar","onClose","isLoggedInUser","useSelector","state","auth","isLoggedIn","dispatch","useDispatch","navigate","useNavigate","selectedFile","setSelectedFile","useState","imageUrl","setImageUrl","user","selectUser","avatarFile","setAvatarFile","editMode","setEditMode","userData","setUserData","username","phone","birthday","useEffect","reader","FileReader","onload","event","target","result","readAsDataURL","handleInputChange","e","name","value","prevUserData","_jsx","children","_jsxs","src","avatar","alt","type","id","onChange","files","htmlFor","onClick","async","updateUserAvatar","userId","unwrap","toast","success","error","email","role","updateUser","then","logout","console","log","style","marginRight","to"],"sourceRoot":""}