"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[46],{3046:(n,e,t)=>{t.r(e),t.d(e,{default:()=>V});var i=t(5043),r=t(3003),o=t(4858),s=t(6213);const a=n=>n.photo.photos;var d,l,p,c,h,x,g,u,m,A,f,b,j,y,w,v=t(7528),k=t(789),C=t(5475),F=t(2963),R=t.n(F);const S=(0,k.A)(R())(d||(d=(0,v.A)(["\n    display: flex;\n    height: 100vh;\n    justify-content: center;\n    align-items: center;\n"]))),z=k.A.div(l||(l=(0,v.A)(["\n  display: flex;\n  height: 60vh;\n  justify-content: center;\n  align-items: center;\n"]))),P=k.A.div(p||(p=(0,v.A)(["\n  margin: 15px;\n  display: flex;\n  height: 60vh;\n  align-items: flex-end;\n  justify-content: flex-start;\n  flex-direction: row-reverse;\n"]))),E=k.A.button(c||(c=(0,v.A)(["\n    font-style: normal;\n    font-weight: var(--fontWeight500);\n    font-size: 14px;\n    line-height: 21px;\n    text-align: center;\n    letter-spacing: -0.02em;\n    width: 20%;\n    height: 49px;\n    margin-top: 24px;\n    background: rgb(154, 196, 60);\n    border-radius: 8px;\n    @media screen and (max-width: 768px) {\n        width: 287px;\n    }\n"]))),L=(0,k.A)(C.N_)(h||(h=(0,v.A)(["\n    transition: color 0.2s ease-in;\n    &:hover{\n        color: #9AC43C;\n    }\n"]))),B=(k.A.div(x||(x=(0,v.A)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    &:hover{\n        color: #9AC43C;\n    }\n"]))),k.A.label(g||(g=(0,v.A)(["\n  display: inline-block;\n  margin-top: 10px;\n  width: 24px;\n  color: black;\n  height: 24px;\n  border-radius: 15px;\n  background: rgb(154, 196, 60);\n  font-size: 18px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n"]))),k.A.input(u||(u=(0,v.A)(["\n  display: none;\n"])))),D=k.A.div(m||(m=(0,v.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"]))),N=k.A.form(A||(A=(0,v.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n  width: 80%;\n  background: white;\n  padding: 35px;\n  border-radius: 25px;\n  border: 1px solid rgb(154, 196, 60);\n"]))),W=k.A.input(f||(f=(0,v.A)(["\n  padding: 10px;\n  margin-bottom: 10px;\n"]))),_=k.A.textarea(b||(b=(0,v.A)(["\n  padding: 10px;\n  margin-bottom: 10px;\n  resize: none;\n  width: 300px;\n  height: 80px;\n"]))),q=k.A.button(j||(j=(0,v.A)(["\n  padding: 10px 20px;\n  background-color: #007BFF;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n"]))),I=k.A.label(y||(y=(0,v.A)(["\n    font-style: normal;\n    font-weight: var(--fontWeight500);\n    font-size: 16px;\n    line-height: 21px;\n    text-align: center;\n    letter-spacing: -0.02em;\n    width: 350px;\n    height: 49px;\n    margin-top: 10px;\n    background: rgb(154, 196, 60);\n    color: black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 15px;\n    margin-bottom: 15px;\n    cursor: pointer;\n    @media screen and (max-width: 768px) {\n        width: 287px;\n    }\n"]))),M=k.A.img(w||(w=(0,v.A)(["\n    width: 60%;\n"])));var O,T;const U=k.A.ul(O||(O=(0,v.A)(["\n  display: flex;\n  flex-wrap: wrap;\n  list-style: none;\n  padding: 0;\n"]))),G=k.A.li(T||(T=(0,v.A)(["\n  margin: 10px;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  overflow: hidden;\n\n  img {\n    width: 100%;\n    height: auto;\n  }\n\n  p {\n    padding: 10px;\n    text-align: center;\n  }\n"])));var H=t(579);const J=n=>{let{photos:e}=n;return(0,H.jsx)(U,{children:e.map(((n,e)=>(0,H.jsxs)(G,{children:[(0,H.jsx)("img",{name:"photo",src:n.url,alt:n.description}),(0,H.jsx)("p",{name:"description",children:n.description}),(0,H.jsx)("p",{name:"tags",children:n.tags})]},e)))})};var K=t(3401);const Q=()=>{const n=(0,r.d4)((n=>n.auth.isLoggedIn)),[e,t]=(0,i.useState)(!1),[d,l]=(0,i.useState)(null),[p,c]=(0,i.useState)(null),{register:h,handleSubmit:x}=(0,o.mN)(),g=(0,r.wA)(),u=(0,r.d4)(a),m=()=>{t(!1),l(null),c(null)};return R().setAppElement("#root"),(0,H.jsxs)("div",{children:[n&&(0,H.jsxs)(P,{children:[(0,H.jsx)(E,{type:"button",onClick:()=>{t(!0)},children:"Add Photo"}),(0,H.jsx)(S,{isOpen:e,onRequestClose:m,contentLabel:"Add Photo Modal",children:(0,H.jsx)(D,{children:(0,H.jsxs)(N,{onSubmit:x((n=>{if(d){const t=new FormData;t.append("photo",d),t.append("description",n.description),t.append("tags",n.tags),g((e=t,async(n,t)=>{try{const i=t().auth.access_token,r={Authorization:"Bearer ".concat(i),"Content-Type":"multipart/form-data"};n({type:"photo/photoCreated",payload:(await s.A.post("/api/photos",e,{headers:r})).data})}catch(i){throw console.error("Error creating photo:",i),i}})).then((()=>{K.oR.success("\u0412\u0430\u0448 \u043f\u043e\u0441\u0442 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e"),m()})).catch((n=>{K.oR.error("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437: ".concat(n.message))}))}else K.oR.error("\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0434\u043e\u0434\u0430\u0439\u0442\u0435 \u0444\u043e\u0442\u043e.");var e})),children:[(0,H.jsx)("h2",{children:"Add Post"}),p&&(0,H.jsx)(M,{src:p,alt:"Preview"}),(0,H.jsx)(B,{type:"file",id:"file",name:"photo",onChange:n=>{const e=n.target.files[0];l(e);const t=new FileReader;t.onloadend=()=>{c(t.result)},t.readAsDataURL(e)}}),(0,H.jsx)(I,{htmlFor:"file",children:"Add Photo"}),(0,H.jsx)(_,{name:"description",placeholder:"Enter description",...h("description")}),(0,H.jsx)(W,{type:"text",name:"tags",placeholder:"Enter tags separated by comma",...h("tags")}),(0,H.jsx)(q,{type:"submit",children:"Submit"})]})})})]}),!n&&(0,H.jsx)(z,{children:(0,H.jsxs)("h1",{children:["\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0449\u043e\u0431 \u043f\u043e\u0447\u0430\u0442\u0438 \u0442\u0443\u0442 \u0449\u043e\u0441\u044c \u0440\u043e\u0431\u0438\u0442\u0438, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 ",(0,H.jsx)(L,{to:"/auth/register",children:"\u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0439\u0441\u044f"})," \u0441\u043f\u043e\u0447\u0430\u0442\u043a\u0443"]})}),(0,H.jsx)(J,{photos:u})]})},V=()=>(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(Q,{})})}}]);
//# sourceMappingURL=46.b2c8a1a0.chunk.js.map