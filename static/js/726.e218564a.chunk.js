"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[726],{1726:(n,e,t)=>{t.r(e),t.d(e,{default:()=>xn});var r,i,o,d,s,a,p,l,c,x,h,g,u,f,m,b,A,y,w=t(5043),j=t(3003),v=t(4858),k=t(6565),F=t(7528),C=t(789),z=t(5475),R=t(2963),D=t.n(R);const S=(0,C.A)(D())(r||(r=(0,F.A)(["\n    display: flex;\n    height: 100vh;\n    justify-content: center;\n    align-items: center;\n"]))),E=C.A.div(i||(i=(0,F.A)(["\n  display: flex;\n  height: 60vh;\n  justify-content: center;\n  align-items: center;\n"]))),P=C.A.div(o||(o=(0,F.A)(["\n  margin: 15px;\n  display: flex;\n  align-items: flex-end;\n  justify-content: flex-start;\n  flex-direction: row-reverse;\n"]))),I=C.A.button(d||(d=(0,F.A)(["\n    font-style: normal;\n    font-weight: var(--fontWeight500);\n    font-size: 14px;\n    line-height: 21px;\n    text-align: center;\n    letter-spacing: -0.02em;\n    width: 20%;\n    height: 49px;\n    background: rgb(154, 196, 60);\n    border-radius: 8px;\n    @media screen and (max-width: 768px) {\n        width: 287px;\n    }\n"]))),L=(0,C.A)(z.N_)(s||(s=(0,F.A)(["\n    transition: color 0.2s ease-in;\n    &:hover{\n        color: #9AC43C;\n    }\n"]))),B=(C.A.div(a||(a=(0,F.A)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    &:hover{\n        color: #9AC43C;\n    }\n"]))),C.A.label(p||(p=(0,F.A)(["\n  display: inline-block;\n  margin-top: 10px;\n  width: 24px;\n  color: black;\n  height: 24px;\n  border-radius: 15px;\n  background: rgb(154, 196, 60);\n  font-size: 18px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n"]))),C.A.input(l||(l=(0,F.A)(["\n  display: none;\n"])))),M=C.A.div(c||(c=(0,F.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"]))),N=C.A.form(x||(x=(0,F.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n  width: 80%;\n  background: white;\n  padding: 35px;\n  border-radius: 25px;\n  border: 1px solid rgb(154, 196, 60);\n"]))),V=C.A.input(h||(h=(0,F.A)(["\n  padding: 10px;\n  margin-bottom: 10px;\n"]))),W=C.A.textarea(g||(g=(0,F.A)(["\n  padding: 10px;\n  margin-bottom: 10px;\n  resize: none;\n  width: 300px;\n  height: 80px;\n"]))),q=C.A.button(u||(u=(0,F.A)(["\n  padding: 10px 20px;\n  background-color: #007BFF;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n"]))),O=C.A.label(f||(f=(0,F.A)(["\n    font-style: normal;\n    font-weight: var(--fontWeight500);\n    font-size: 16px;\n    line-height: 21px;\n    text-align: center;\n    letter-spacing: -0.02em;\n    width: 350px;\n    height: 49px;\n    margin-top: 10px;\n    background: rgb(154, 196, 60);\n    color: black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 15px;\n    margin-bottom: 15px;\n    cursor: pointer;\n    @media screen and (max-width: 768px) {\n        width: 287px;\n    }\n"]))),U=C.A.img(m||(m=(0,F.A)(["\n    width: 60%;\n"]))),X=C.A.div(b||(b=(0,F.A)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10px;\n  width: 100%;\n"]))),_=C.A.button(A||(A=(0,F.A)(["\n  background-color: transparent;\n  border: none;\n  font-size: 16px;\n  cursor: pointer;\n  color: #333;\n  &:hover {\n    color: #000;\n  }\n"])));C.A.div(y||(y=(0,F.A)(['\n  display: flex;\n  justify-content: center;\n  padding: 35px 15px;\n\n  form {\n    display: flex;\n    width: 100%;\n  }\n\n  input {\n    width: 100%;\n    padding-left: 20px;\n    border: 2px solid #494547;\n    border-radius: 50px 0px 0px 50px;\n    outline: none;\n    background: #F9F0DA;\n    color: #9E9C9C;\n  }\n\n  button {\n    top: 0;\n    right: 0px;\n    width: 42px;\n    height: 42px;\n    border: none;\n    background: #494547;\n    border-radius: 0 50px 50px 0;\n    cursor: pointer;\n  }\n\n  button:before {\n    content: "\f002";\n    font-family: FontAwesome;\n    font-size: 16px;\n    color: #F9F0DA;\n  }\n\n  svg {\n    color: white;\n    font-size: 20px;\n    margin-right: 5px;\n  }\n'],['\n  display: flex;\n  justify-content: center;\n  padding: 35px 15px;\n\n  form {\n    display: flex;\n    width: 100%;\n  }\n\n  input {\n    width: 100%;\n    padding-left: 20px;\n    border: 2px solid #494547;\n    border-radius: 50px 0px 0px 50px;\n    outline: none;\n    background: #F9F0DA;\n    color: #9E9C9C;\n  }\n\n  button {\n    top: 0;\n    right: 0px;\n    width: 42px;\n    height: 42px;\n    border: none;\n    background: #494547;\n    border-radius: 0 50px 50px 0;\n    cursor: pointer;\n  }\n\n  button:before {\n    content: "\\f002";\n    font-family: FontAwesome;\n    font-size: 16px;\n    color: #F9F0DA;\n  }\n\n  svg {\n    color: white;\n    font-size: 20px;\n    margin-right: 5px;\n  }\n'])));var G,H,J,K,Q,T,Y;const Z=C.A.ul(G||(G=(0,F.A)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  flex-wrap: wrap;\n  list-style: none;\n  padding: 45px 45px 0px 45px;\n  gap: 25px;\n"]))),$=C.A.button(H||(H=(0,F.A)(["\n  background: red;\n  color: white;\n  border-radius: 15px;\n  font-size: 15px;\n  padding: 4px 20px;\n  border: none;\n  @media screen and (max-width: 780px) {\n    padding: 7px 20px 10px 20px;\n    align-items: center;\n  }\n"]))),nn=C.A.li(J||(J=(0,F.A)(["\n  border: 1px solid #ddd;\n  border-radius: 15px;\n  overflow: hidden;\n  border: 1px solid #9AC43C;\n  padding: 25px;\n\n  img {\n    width: 350px;\n    height: auto;\n  }\n\n  p {\n    padding: 10px;\n    text-align: center;\n  }\n"]))),en=C.A.div(K||(K=(0,F.A)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n"]))),tn=C.A.div(Q||(Q=(0,F.A)(["\n  display: flex;\n  gap: 10px;\n"]))),rn=C.A.button(T||(T=(0,F.A)(["\n  background-color: #0056b3;\n  color: white;\n  border-radius: 15px;\n  font-size: 15px;\n  padding: 4px 20px;\n  border: none;\n  @media screen and (max-width: 780px) {\n    padding: 7px 20px 10px 20px;\n    align-items: center;\n  }\n"]))),on=C.A.button(Y||(Y=(0,F.A)(["\n  padding: 10px 20px;\n  background-color: #007BFF;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n"])));var dn=t(6721),sn=t(3401);const an=n=>n.photo.photos;var pn=t(579);const ln=()=>{const n=(0,j.d4)((n=>n.auth.user.role)),e=(0,j.wA)(),t=(0,j.d4)(an),[r,i]=(0,w.useState)({}),o=n=>{i((e=>({...e,[n]:!e[n]})))};return(0,pn.jsx)(Z,{children:t.map((t=>(0,pn.jsx)(nn,{children:(0,pn.jsxs)(en,{children:[r[t.id]?(0,pn.jsxs)("form",{onSubmit:n=>{n.preventDefault(),(async(n,t)=>{try{await e((0,dn.MX)({photoId:n,...t})),sn.oR.success("\u0414\u0430\u043d\u0456 \u0434\u043e \u043f\u043e\u0441\u0442\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e"),o(n)}catch(r){console.error("Error updating photo:",r),sn.oR.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u0456 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0457")}})(t.id,{description:n.target.description.value,tags:n.target.tags.value.split(",")})},children:[(0,pn.jsx)("input",{name:"description",defaultValue:t.description}),(0,pn.jsx)("input",{name:"tags",defaultValue:Array.isArray(t.tags)?t.tags.join(","):t.tags}),(0,pn.jsx)(on,{type:"submit",children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]}):(0,pn.jsxs)("div",{children:[(0,pn.jsx)("img",{name:"photo",src:t.url,alt:t.description}),(0,pn.jsx)("p",{name:"description",children:t.description}),(0,pn.jsx)("p",{name:"tags",children:Array.isArray(t.tags)?t.tags.join(", "):t.tags})]}),(0,pn.jsxs)(tn,{children:["admin"===n&&(0,pn.jsx)($,{name:"delete",onClick:()=>(async n=>{try{await e((0,dn.kI)(n)),sn.oR.success("\u0412\u0430\u0448 \u043f\u043e\u0441\u0442 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e")}catch(t){console.error("Error deleting photo:",t),sn.oR.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u0456 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0457")}})(t.id),children:"Delete"}),(0,pn.jsx)(rn,{name:"edit",onClick:()=>o(t.id),children:r[t.id]?"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"})]})]})},t.id)))})};t(3910);const cn=()=>{const n=(0,j.d4)((n=>n.auth.isLoggedIn)),[e,t]=(0,w.useState)(!1),[r,i]=(0,w.useState)(null),[o,d]=(0,w.useState)(null),{register:s,handleSubmit:a}=(0,v.mN)(),p=(0,j.wA)(),l=()=>{t(!1),i(null),d(null)};return D().setAppElement("#root"),(0,pn.jsxs)("div",{children:[n&&(0,pn.jsx)(ln,{}),n&&(0,pn.jsxs)(P,{children:[(0,pn.jsx)(I,{type:"button",onClick:()=>{t(!0)},children:"Add Photo"}),(0,pn.jsx)(S,{isOpen:e,onRequestClose:l,contentLabel:"Add Photo Modal",children:(0,pn.jsx)(M,{children:(0,pn.jsxs)(N,{onSubmit:a((n=>{if(r){const e=new FormData;e.append("file",r),e.append("description",n.description),e.append("tags",n.tags),p((0,k.Fl)(e)).then((()=>{sn.oR.success("\u0412\u0430\u0448 \u043f\u043e\u0441\u0442 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e"),l(),window.location.reload()})).catch((n=>{sn.oR.error("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437: ".concat(n.message))}))}else sn.oR.error("\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0434\u043e\u0434\u0430\u0439\u0442\u0435 \u0444\u043e\u0442\u043e.")})),method:"post",children:[(0,pn.jsxs)(X,{children:[(0,pn.jsx)("h2",{style:{margin:"0px"},children:"Add Post"}),(0,pn.jsx)(_,{type:"button",onClick:l,children:"\u2716"})]}),o&&(0,pn.jsx)(U,{src:o,alt:"Preview"}),(0,pn.jsx)(B,{type:"file",id:"file",name:"photo",onChange:n=>{const e=n.target.files[0];i(e);const t=new FileReader;t.onloadend=()=>{d(t.result)},t.readAsDataURL(e)}}),(0,pn.jsx)(O,{htmlFor:"file",children:"Add Photo"}),(0,pn.jsx)(W,{name:"description",placeholder:"Enter description",...s("description")}),(0,pn.jsx)(V,{type:"text",name:"tags",placeholder:"Enter tags separated by comma",...s("tags")}),(0,pn.jsx)(q,{type:"submit",children:"Submit"})]})})})]}),!n&&(0,pn.jsx)(E,{children:(0,pn.jsxs)("h1",{children:["\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0449\u043e\u0431 \u043f\u043e\u0447\u0430\u0442\u0438 \u0442\u0443\u0442 \u0449\u043e\u0441\u044c \u0440\u043e\u0431\u0438\u0442\u0438, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 ",(0,pn.jsx)(L,{to:"/auth/register",children:"\u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0439\u0441\u044f"})," \u0441\u043f\u043e\u0447\u0430\u0442\u043a\u0443"]})})]})},xn=()=>(0,pn.jsx)(pn.Fragment,{children:(0,pn.jsx)(cn,{})})}}]);
//# sourceMappingURL=726.e218564a.chunk.js.map